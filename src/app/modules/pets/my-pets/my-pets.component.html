<div class="flex h-screen bg-gray-50 font-sans relative overflow-hidden">
  <!-- Fondo animado de agua/ondas -->
  <div class="absolute inset-0 bg-gradient-to-br from-blue-50 to-purple-50 opacity-30"></div>
  <div class="absolute inset-0 bg-water-pattern opacity-5"></div>
  
  <!-- SIDEBAR ANIMADO -->
  <aside class="w-64 bg-white border-r border-gray-200 flex flex-col relative z-10 sidebar-animation">
    <div class="p-6 text-center">
      <img src="img/logo-circular.png" alt="PetPocket Logo" class="w-28 mx-auto transform transition-transform duration-300 hover:scale-110" />
      <p class="text-xs font-bold text-gray-400 mt-2 tracking-wider">PANEL CLIENTE</p>
    </div>
    
    <nav class="flex-1 px-4 space-y-2 menu-items">
      <!-- Inicio -->
      <a href="/dashboard" 
         class="menu-item group">
        <span class="menu-icon">üè†</span>
        <span class="menu-text">Inicio</span>
        <span class="menu-highlight"></span>
      </a>
      
      <!-- Mis Mascotas (ACTIVO) -->
      <a routerLink="/pets/my" 
         routerLinkActive="active-menu"
         class="menu-item group active-menu">
        <span class="menu-icon">üêæ</span>
        <span class="menu-text">Mis Mascotas</span>
        <span class="menu-highlight"></span>
      </a>
      
      <!-- Registrar Mascota -->
      <a routerLink="/pets/register" 
         routerLinkActive="active-menu"
         class="menu-item group">
        <span class="menu-icon">‚ûï</span>
        <span class="menu-text">Registrar Mascota</span>
        <span class="menu-highlight"></span>
      </a>
      
      <!-- Historial -->
      <a href="#" 
         class="menu-item group">
        <span class="menu-icon">üìÖ</span>
        <span class="menu-text">Historial</span>
        <span class="menu-highlight"></span>
      </a>
      
      <!-- Servicios -->
      <a href="#" 
         class="menu-item group">
        <span class="menu-icon">üõí</span>
        <span class="menu-text">Servicios</span>
        <span class="menu-highlight"></span>
      </a>
    </nav>
    
    <div class="p-6 text-center">
      <img src="img/pet-illustration.jpg" alt="Mascota" 
           class="w-24 mx-auto opacity-40 transform transition-transform duration-300 hover:opacity-70 hover:scale-110" />
    </div>
  </aside>

  <!-- CONTENIDO PRINCIPAL -->
  <main class="flex-1 flex flex-col overflow-hidden relative z-10">
    <!-- HEADER ANIMADO -->
    <header class="bg-white h-20 border-b flex items-center justify-between px-8 shadow-sm relative overflow-hidden navbar-container">
      <h2 class="text-xl font-black text-gray-800 tracking-tight relative z-10 navbar-title group">
        <span class="inline-block transition-all duration-300 group-hover:tracking-wider group-hover:text-[#F27438]">
          Mis Mascotas
        </span>
        <!-- Subrayado animado -->
        <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-[#F27438] group-hover:w-full transition-all duration-500"></span>
      </h2>
      
      <!-- Espacio para mantener alineaci√≥n -->
      <div class="w-8"></div>
    </header>

    <!-- CONTENIDO CON ANIMACIONES -->
    <div class="flex-1 overflow-y-auto bg-gradient-to-b from-white/90 to-gray-50/90 p-8 animate-fadeIn">
      <div class="max-w-4xl mx-auto">
        <!-- CARD PRINCIPAL -->
        <div class="bg-white rounded-3xl p-10 shadow-sm border border-gray-100 animate-slideUp hover:shadow-md transition-shadow duration-300">
          
          <!-- CONTENIDO ORIGINAL DE MASCOTAS (CON ANIMACIONES AGREGADAS) -->
          <div *ngIf="mascotas.length === 0" class="text-gray-400 animate-pulse text-center py-10">
            üêæ No tienes mascotas registradas. ¬°Registra tu primera mascota!
          </div>

          <ng-container *ngFor="let mascota of mascotas; let i = index">
            <div class="mb-8 border-b pb-6 hover:bg-gray-50 hover:px-4 hover:py-3 hover:rounded-xl transition-all duration-300 mascota-item">

              <div *ngIf="editIndex !== i">
  <div class="nombre-mascota">
    üêï {{ mascota.nombreMascota }}
  </div>
  <div class="detalles-mascota">
    Especie: {{ mascota.especie }} | Raza: {{ mascota.raza }} | Sexo: {{ mascota.sexo }} | Color: {{ mascota.color }}
  </div>
  <button class="mt-3 px-4 py-2 bg-[#F27438] text-white rounded-lg font-bold transition-all duration-300 hover:bg-[#FF8C42] hover:shadow-lg hover:scale-105 active:scale-95 edit-button"
          (click)="onEdit(i)">
    ‚úèÔ∏è Editar
  </button>
</div>

              <div *ngIf="editIndex === i">
                <!-- Formulario de edici√≥n -->
                <form class="space-y-4 form-animation" (ngSubmit)="onSave()">
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="form-group-animation">
                      <label class="block text-sm font-bold text-gray-600 mb-2">Nombre</label>
                      <input type="text" 
                             class="w-full p-2 border rounded-lg transition-all duration-300 hover:border-[#F27438] focus:border-[#F27438] focus:ring-2 focus:ring-[#F27438] outline-none bg-white text-gray-900 font-semibold"
                             [(ngModel)]="mascotaEdit.nombreMascota" 
                             name="nombre{{i}}">
                    </div>
                    <div class="form-group-animation">
                      <label class="block text-sm font-bold text-gray-600 mb-2">Especie</label>
                      <select class="w-full p-2 border rounded-lg transition-all duration-300 hover:border-[#F27438] focus:border-[#F27438] focus:ring-2 focus:ring-[#F27438] outline-none bg-white text-gray-900 font-semibold"
                              [(ngModel)]="mascotaEdit.especie" 
                              name="especie{{i}}" 
                              (change)="onEspecieChange(mascotaEdit.especie)">
                        <option *ngFor="let esp of especies" [value]="esp.idEspecie">{{ esp.nombre }}</option>
                      </select>
                    </div>
                  </div>
                  
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="form-group-animation">
                      <label class="block text-sm font-bold text-gray-600 mb-2">Raza</label>
                      <select class="w-full p-2 border rounded-lg transition-all duration-300 hover:border-[#F27438] focus:border-[#F27438] focus:ring-2 focus:ring-[#F27438] outline-none bg-white text-gray-900 font-semibold"
                              [(ngModel)]="mascotaEdit.raza" 
                              name="raza{{i}}">
                        <option *ngFor="let r of razas" [value]="r.idRaza">{{ r.nombre }}</option>
                      </select>
                    </div>
                    <div class="form-group-animation">
                      <label class="block text-sm font-bold text-gray-600 mb-2">Edad (a√±os)</label>
                      <input type="number" 
                             class="w-full p-2 border rounded-lg transition-all duration-300 hover:border-[#F27438] focus:border-[#F27438] focus:ring-2 focus:ring-[#F27438] outline-none bg-white text-gray-900 font-semibold"
                             [(ngModel)]="mascotaEdit.edad" 
                             name="edad{{i}}">
                    </div>
                  </div>
                  
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="form-group-animation">
                      <label class="block text-sm font-bold text-gray-600 mb-2">Sexo</label>
                      <select class="w-full p-2 border rounded-lg transition-all duration-300 hover:border-[#F27438] focus:border-[#F27438] focus:ring-2 focus:ring-[#F27438] outline-none bg-white text-gray-900 font-semibold"
                              [(ngModel)]="mascotaEdit.sexo" 
                              name="sexo{{i}}">
                        <option *ngFor="let s of sexos" [value]="s.idSexo">{{ s.nombre }}</option>
                      </select>
                    </div>
                    <div class="form-group-animation">
                      <label class="block text-sm font-bold text-gray-600 mb-2">Peso (kg)</label>
                      <input type="number" 
                             class="w-full p-2 border rounded-lg transition-all duration-300 hover:border-[#F27438] focus:border-[#F27438] focus:ring-2 focus:ring-[#F27438] outline-none bg-white text-gray-900 font-semibold"
                             [(ngModel)]="mascotaEdit.pesoKg" 
                             name="peso{{i}}">
                    </div>
                  </div>
                  
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="form-group-animation">
                      <label class="block text-sm font-bold text-gray-600 mb-2">Color</label>
                      <select class="w-full p-2 border rounded-lg transition-all duration-300 hover:border-[#F27438] focus:border-[#F27438] focus:ring-2 focus:ring-[#F27438] outline-none bg-white text-gray-900 font-semibold"
                              [(ngModel)]="mascotaEdit.color" 
                              name="color{{i}}">
                        <option *ngFor="let c of colores" [value]="c.idColor">{{ c.nombre }}</option>
                      </select>
                    </div>
                    <div class="form-group-animation">
                      <label class="block text-sm font-bold text-gray-600 mb-2">Alergias</label>
                      <input type="text" 
                             class="w-full p-2 border rounded-lg transition-all duration-300 hover:border-[#F27438] focus:border-[#F27438] focus:ring-2 focus:ring-[#F27438] outline-none bg-white text-gray-900 font-semibold"
                             [(ngModel)]="mascotaEdit.alergias" 
                             name="alergias{{i}}">
                    </div>
                  </div>
                  
                  <div class="form-group-animation">
                    <label class="block text-sm font-bold text-gray-600 mb-2">Observaciones</label>
                    <textarea class="w-full p-2 border rounded-lg transition-all duration-300 hover:border-[#F27438] focus:border-[#F27438] focus:ring-2 focus:ring-[#F27438] outline-none resize-none bg-white text-gray-900 font-semibold"
                              rows="3"
                              [(ngModel)]="mascotaEdit.observaciones" 
                              name="obs{{i}}"></textarea>
                  </div>
                  
                  <div class="flex gap-4 mt-6">
                    <button type="submit" 
                            [disabled]="loading"
                            class="flex-1 bg-gradient-to-r from-[#56C57F] to-[#45a067] hover:from-[#45a067] hover:to-[#56C57F] text-white px-6 py-3 rounded-lg font-bold transition-all duration-300 hover:shadow-lg hover:scale-105 active:scale-95 disabled:opacity-50">
                      ‚úÖ Guardar Cambios
                    </button>
                    <button type="button" 
                            (click)="onDelete(i)"
                            class="flex-1 bg-gradient-to-r from-red-400 to-red-500 hover:from-red-500 hover:to-red-600 text-white px-6 py-3 rounded-lg font-bold transition-all duration-300 hover:shadow-lg hover:scale-105 active:scale-95">
                      üóëÔ∏è Eliminar
                    </button>
                    <button type="button" 
                            class="flex-1 bg-gradient-to-r from-gray-200 to-gray-300 hover:from-gray-300 hover:to-gray-200 text-gray-700 px-6 py-3 rounded-lg font-bold transition-all duration-300 hover:shadow-lg hover:scale-105 active:scale-95"
                            (click)="onCancel()">
                      ‚ùå Cancelar
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </ng-container>
        </div>
      </div>
    </div>
  </main>
</div>
